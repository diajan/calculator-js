(()=>{"use strict";var t=document.querySelector(".result"),e=document.querySelector(".history"),n=document.querySelectorAll(".number"),r=document.querySelectorAll(".operation"),o=document.querySelectorAll(".tools"),i={".":".",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},a={"fa-plus":function(t,e){return t+e},"fa-minus":function(t,e){return t-e},"fa-times":function(t,e){return t*e},"fa-divide":function(t,e){return t/e},"fa-percent":function(t,e){return e*t/100}};function l(t,e,n){return a[n]?a[n](+t,+e):null}function u(){t.textContent=0,e.textContent=""}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){u(),b(t),h("PRESS AC BUTTON");var e=c(document.querySelectorAll(".operation")).concat(c(document.querySelectorAll(".tools")).slice(1));e.forEach((function(t){return t.setAttribute("disabled","")})),c(document.querySelectorAll(".tools"))[0].addEventListener("click",(function(t){return e.forEach((function(t){return t.removeAttribute("disabled")}))}))}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(){var n,r,o=+t.textContent;if(0!=o&&""!=o)if(2===m()){var i=(n=C(),r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(n,r)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],u=i[1],c=l(a,g(),u);e.textContent="",e.textContent=c+" ",e.appendChild(x(this.children[0].classList.value)),String(c).length<11?b(c):s("Range ERROR")}else{var f=x(this.children[0].classList.value);f&&(e.textContent=o+" ",f&&e.appendChild(f))}}function h(t){e.append(" ",t)}function C(){return""!=e.textContent?Array(e.textContent,e.firstElementChild.classList[1]):null}function m(){return e.textContent.split(" ").length}function x(t){var e=t.split(" ");if(["fa-minus","fa-times","fa-plus","fa-divide","fa-percent"].includes(e[1])){var n=document.createElement("i");return n.style.color="#fffdfdc4",e.forEach((function(t){n.classList.add(t)})),n}return!1}function v(){C()&&m()>2&&u(),t.textContent=1!==t.textContent.length?t.textContent.slice(0,-1):"0"}function p(n){var r=e.textContent;r?(3===m()?u():+t.textContent==+r.trim()&&(t.textContent=""),1===t.textContent.length&&0==+t.textContent&&(t.textContent=""),t.textContent.length<11&&(t.textContent+=n.target.textContent)):t.textContent.length<11&&(1===t.textContent.length&&0==+t.textContent&&(t.textContent=""),"."===n.target.textContent&&-1!==t.textContent.indexOf(".")||(t.textContent+=n.target.textContent))}function b(e){t.textContent=e}function g(){return t.textContent}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(){var t,e,n;switch((null===(t=this.firstElementChild)||void 0===t?void 0:t.classList.value)||this.innerText){case"AC":u();break;case"fas fa-backspace":v();break;case"fas fa-equals":if(2===m()){var r=(e=C(),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1],a=g(),c=l(o,a,i);h(a),String(c).length<11?b(c):s("Range ERROR")}break;default:console.log("Not Found")}}n.forEach((function(t){return t.addEventListener("click",p)})),document.body.addEventListener("keyup",(function(n){var r=e.textContent;"Backspace"===n.key&&v(),r?(3===m()?u():+t.textContent==+r.trim()&&i[n.key]&&(t.textContent=""),1===t.textContent.length&&0==+t.textContent&&i[n.key]&&(t.textContent=""),t.textContent.length<11&&+i[n.key]&&(t.textContent+=+i[n.key])):i[n.key]&&n.key&&t.textContent.length<11&&(1===t.textContent.length&&0==+t.textContent&&i[n.key]&&(t.textContent=""),t.textContent+=i[n.key]?i[n.key]:"")})),r.forEach((function(t){return t.addEventListener("click",y)})),o.forEach((function(t){return t.addEventListener("click",S)}))})();